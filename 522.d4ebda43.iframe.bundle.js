"use strict";(self.webpackChunkreact_kit=self.webpackChunkreact_kit||[]).push([[522],{"./components/molecules/Vault/VaultDHX.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>VaultDHX});__webpack_require__("../../node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("../../node_modules/core-js/modules/es.string.split.js"),__webpack_require__("../../node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("../../node_modules/core-js/modules/es.function.name.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("../../node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../../node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("../../node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.create.js"),__webpack_require__("../../node_modules/core-js/modules/es.object.define-property.js");var suite=__webpack_require__("../../node_modules/@dhx/dhx-suite-package/codebase/suite.js"),vault=__webpack_require__("../../node_modules/@dhx/dhx-vault-package/codebase/vault.js"),lodash=__webpack_require__("../../node_modules/lodash/lodash.js"),react=__webpack_require__("../../node_modules/react/index.js"),FormInputContainer=__webpack_require__("./components/atoms/Form/FormInputContainer.tsx"),style=__webpack_require__("../../node_modules/styled-jsx/style.js"),style_default=__webpack_require__.n(style),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),DHXTheme=function DHXTheme(_ref){var toolbar=_ref.toolbar;return(0,jsx_runtime.jsx)(style_default(),{id:"1850521610",dynamic:[toolbar?"box":"none"],children:[".dhx_vault--toolbar{display:"+(toolbar?"box":"none")+";}",".dhx-dropable-area.drop-files-here{padding:12px;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;height:49px;}",".dhx-dropable-area .dhx-big-icon-block{width:32px;}",".dhx-dropable-area .dhx-big-icon-block .dxi:before{font-size:24px;color:black;opacity:0.5;}",".dhx-dropable-area .drop-area-bold-text{font-size:16px;}",".dhx-dropable-area .drop-area-bold-text:first-child{color:#4e4e4e;}",".dhx-dropable-area .drop-area-bold-text:nth-child(2),.dhx-dropable-area .drop-area-bold-text:nth-child(3),.dhx-dropable-area .drop-area-light-text{display:none;}",".dhx-dropable-area .drop-area-light-text{margin:0 5px;color:#4e4e4e;font-size:16px;}"]})};DHXTheme.displayName="DHXTheme";try{DHXTheme.displayName="DHXTheme",DHXTheme.__docgenInfo={description:"",displayName:"DHXTheme",props:{toolbar:{defaultValue:null,description:"",name:"toolbar",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/molecules/Vault/DHXTheme.tsx#DHXTheme"]={docgenInfo:DHXTheme.__docgenInfo,name:"DHXTheme",path:"components/molecules/Vault/DHXTheme.tsx#DHXTheme"})}catch(__react_docgen_typescript_loader_error){}var locales={en:{add:"Add",browse:"Browse files",cancel:"Cancel",clear:"Clear",clearAll:"Clear all",clearAllSelected:"Clear selected",download:"Download",dragAndDrop:"Drag & drop",filesOrFoldersHere:"files or folders here",or:"or",grid:"Grid",list:"List",upload:"Upload"},ko:{add:"추가하기",browse:"파일 불러오기",cancel:"취소",clear:"삭제",clearAll:"모두 삭제",clearAllSelected:"선택한 것 모두 삭제",download:"내려받기",dragAndDrop:"Drag & drop",filesOrFoldersHere:"이곳에 파일 또는 폴더를 놓으세요",or:"or",grid:"그리드",list:"리스트",upload:"올리기"}},SSOLTheme=function SSOLTheme(_ref){var toolbar=_ref.toolbar;return(0,jsx_runtime.jsx)(style_default(),{id:"4108948632",dynamic:[toolbar?"box":"none"],children:[".ssol .dhx_vault{border-radius:3px;}",".ssol .dhx_vault--toolbar{display:"+(toolbar?"box":"none")+";}",".ssol .dhx_vault:hover{border-color:var(--deepBlue-color);}",".ssol .dhx-dropable-area.drop-files-here{padding:12px;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;height:49px;background-color:white;}",".ssol .dhx-dropable-area .dhx-big-icon-block{width:32px;}",".ssol .dhx-dropable-area .dhx-big-icon-block .dxi:before{font-size:24px;color:black;opacity:0.5;}",".ssol .dhx_vault:hover .dhx-dropable-area .dhx-big-icon-block .dxi:before{color:var(--deepBlue-color);opacity:1;}",".ssol .dhx-dropable-area .drop-area-bold-text{font-size:16px;}",".ssol .dhx_vault:hover .dhx-dropable-area .drop-area-bold-text{color:var(--deepBlue-color);}",".ssol .dhx-dropable-area .drop-area-bold-text:first-child{color:#4e4e4e;}",".ssol .dhx-dropable-area .drop-area-bold-text:nth-child(2),.ssol .dhx-dropable-area .drop-area-bold-text:nth-child(3),.ssol .dhx-dropable-area .drop-area-light-text{display:none;}",".ssol .dhx-dropable-area .drop-area-light-text{margin:0 5px;color:#4e4e4e;font-size:16px;}",".ssol .dhx_vault:hover .dhx-dropable-area .drop-area-light-text{color:var(--deepBlue-color);}",".ssol .dhx_vault .dhx-dropable-area.drop-files-here .dhx_button:not(.dhx_toolbar-button--icon){border-radius:3px;background-color:var(--deepBlue-color);}"]})};SSOLTheme.displayName="SSOLTheme";try{SSOLTheme.displayName="SSOLTheme",SSOLTheme.__docgenInfo={description:"",displayName:"SSOLTheme",props:{toolbar:{defaultValue:null,description:"",name:"toolbar",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/molecules/Vault/SSOLTheme.tsx#SSOLTheme"]={docgenInfo:SSOLTheme.__docgenInfo,name:"SSOLTheme",path:"components/molecules/Vault/SSOLTheme.tsx#SSOLTheme"})}catch(__react_docgen_typescript_loader_error){}var SubmitGuard=function SubmitGuard(_ref){var children=_ref.children,onClick=(0,react.useCallback)((function(e){var _e$target;"submit"===(null===(_e$target=e.target)||void 0===_e$target?void 0:_e$target.type)&&e.preventDefault()}),[]);return(0,jsx_runtime.jsx)("div",{onClick,children})};SubmitGuard.displayName="SubmitGuard";try{SubmitGuard.displayName="SubmitGuard",SubmitGuard.__docgenInfo={description:"",displayName:"SubmitGuard",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/molecules/Vault/SubmitGuard.tsx#SubmitGuard"]={docgenInfo:SubmitGuard.__docgenInfo,name:"SubmitGuard",path:"components/molecules/Vault/SubmitGuard.tsx#SubmitGuard"})}catch(__react_docgen_typescript_loader_error){}var bytes2Size=function bytes2Size(bytes){if(0==bytes)return"0 Byte";var i=Math.floor(Math.log(bytes)/Math.log(1024));return Math.round(bytes/Math.pow(1024,i))+" "+["Bytes","KB","MB","GB","TB"][i]},dist=__webpack_require__("../../node_modules/react-loading-skeleton/dist/index.mjs");__webpack_require__("../../node_modules/react-loading-skeleton/dist/skeleton.css"),__webpack_require__("../../node_modules/@dhx/dhx-vault-package/codebase/vault.css");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var VaultDHXCore=function(_Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(VaultDHXCore,_Component);var _super=_createSuper(VaultDHXCore);function VaultDHXCore(){var _this;_classCallCheck(this,VaultDHXCore);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).instance=void 0,_this.ref=(0,react.createRef)(),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(VaultDHXCore,[{key:"isValidExtension",value:function isValidExtension(_ref){var extension=_ref.file.name.split(".").pop()||"",extensionList=this.props.extensionList;return!!(0,lodash.isEmpty)(extensionList)||(null==extensionList?void 0:extensionList.includes(extension))}},{key:"isValidSize",value:function isValidSize(_ref2){var file=_ref2.file,sizeLimit=this.props.sizeLimit;return!sizeLimit||file.size<=sizeLimit}},{key:"isValidaFile",value:function isValidaFile(item){return this.isValidExtension(item)&&this.isValidSize(item)}},{key:"filterFile",value:function filterFile(item){return this.isValidaFile(item)||(0,suite.message)({text:item.file.name+"은 업로드 할 수 없습니다.",expire:4e3}),!0}},{key:"items",get:function get(){var _this$instance,_this$instance2,totalLength=(null===(_this$instance=this.instance)||void 0===_this$instance?void 0:_this$instance.data.getLength())||0;return(null===(_this$instance2=this.instance)||void 0===_this$instance2?void 0:_this$instance2.data.getRawData(0,totalLength))||[]}},{key:"flles",get:function get(){var _this$items;return null===(_this$items=this.items)||void 0===_this$items?void 0:_this$items.map((function(item){return item.file}))}},{key:"totalSize",get:function get(){return this.flles?this.flles.reduce((function(total,item){return total+item.size}),0):0}},{key:"config",get:function get(){var _this$props=this.props;_this$props.id,_this$props.name,_this$props.extensionList,_this$props.sizeLimit,_this$props.locale,_this$props.onChange,_this$props.theme,_this$props.toolbar,_this$props.isLoading;return{mode:_this$props.mode,modeControls:_this$props.modeControls,customScroll:_this$props.customScroll,scaleFactor:_this$props.scaleFactor,downloadURL:_this$props.downloadURL,data:_this$props.data,disablePreview:_this$props.disablePreview,editable:_this$props.editable}}},{key:"updateToolbar",value:function updateToolbar(){var _this$instance3,toolbar=null===(_this$instance3=this.instance)||void 0===_this$instance3?void 0:_this$instance3.toolbar;toolbar&&(toolbar.data.update("sizeViewer",{value:bytes2Size(this.totalSize)}),toolbar.hide("upload"),toolbar.hide("grid"))}},{key:"onChange",value:function onChange(){this.updateToolbar(),this.props.onChange&&this.props.onChange(this.flles)}},{key:"locale",get:function get(){var locale=locales[this.props.locale||"ko"];return this.props.children?Object.assign({},locale,{browse:this.props.children}):locale}},{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.ref.current&&(vault.i18n.setLocale("vault",this.locale),this.instance=new vault.Vault(this.ref.current,Object.assign({},this.config,{uploader:{target:"",autosend:!1,singleRequest:!0},downloadURL:""})),this.instance.toolbar.data.add({id:"sizeViewer",value:bytes2Size(this.totalSize)}),this.instance.events.on("change",(function(){return _this2.onChange()})))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.instance&&this.instance.destructor()}},{key:"render",value:function render(){var _this$props2=this.props,helpMessage=_this$props2.helpMessage,isDisabled=_this$props2.isDisabled,isRequired=_this$props2.isRequired,label=_this$props2.label,labelPosition=_this$props2.labelPosition,labelWidth=_this$props2.labelWidth,preMessage=_this$props2.preMessage,theme=_this$props2.theme,toolbar=_this$props2.toolbar,validationState=_this$props2.validationState,isLoading=_this$props2.isLoading;return(0,jsx_runtime.jsxs)(SubmitGuard,{children:[(0,jsx_runtime.jsxs)(FormInputContainer.h,{helpMessage,isDisabled,isRequired,label,labelPosition,labelWidth,preMessage,validationState,children:[(0,jsx_runtime.jsx)("div",{className:theme,ref:this.ref,style:{display:isLoading?"none":"block"}}),(0,jsx_runtime.jsx)(dist.Z,{height:49,style:{display:isLoading?"block":"none"}})]}),"ssol"===theme?(0,jsx_runtime.jsx)(SSOLTheme,{toolbar}):(0,jsx_runtime.jsx)(DHXTheme,{toolbar})]})}}]),VaultDHXCore}(react.Component);const VaultDHX=VaultDHXCore;try{VaultDHXCore.displayName="VaultDHXCore",VaultDHXCore.__docgenInfo={description:"",displayName:"VaultDHXCore",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},extensionList:{defaultValue:null,description:"",name:"extensionList",required:!1,type:{name:"string[]"}},sizeLimit:{defaultValue:null,description:"",name:"sizeLimit",required:!1,type:{name:"number"}},locale:{defaultValue:null,description:"",name:"locale",required:!1,type:{name:"enum",value:[{value:'"en"'},{value:'"ko"'}]}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: File[]) => void)"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"enum",value:[{value:'"dhx"'},{value:'"ssol"'}]}},isLoading:{defaultValue:null,description:"로딩중인가?",name:"isLoading",required:!1,type:{name:"boolean"}},isRequired:{defaultValue:null,description:"필숫값인가?",name:"isRequired",required:!1,type:{name:"boolean"}},isDisabled:{defaultValue:null,description:"비 활성화 하는가?",name:"isDisabled",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},validationState:{defaultValue:null,description:"",name:"validationState",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"error"'},{value:'"success"'}]}},labelPosition:{defaultValue:null,description:"라벨의 위치",name:"labelPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"left"'}]}},labelWidth:{defaultValue:null,description:"라벨이 차지하는 가로길이",name:"labelWidth",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"라벨 텍스트",name:"label",required:!1,type:{name:"string"}},helpMessage:{defaultValue:null,description:"도움말 메시지",name:"helpMessage",required:!1,type:{name:"Element"}},preMessage:{defaultValue:null,description:"알림 메시지",name:"preMessage",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/molecules/Vault/VaultDHX.tsx#VaultDHXCore"]={docgenInfo:VaultDHXCore.__docgenInfo,name:"VaultDHXCore",path:"components/molecules/Vault/VaultDHX.tsx#VaultDHXCore"})}catch(__react_docgen_typescript_loader_error){}}}]);